(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[755],{28846:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/group/[address]",function(){return n(17978)}])},17978:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(41799);function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var s=n(85893),r=n(11163),u=n(79219),p=n.n(u),o=n(9473),l=n(67294),d=(n(64552),n(69077)),y=n(95847),c=function(){var e=(0,l.useState)(""),t=e[0],n=e[1];return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"Write a proposal if you want to borrow money"}),(0,s.jsx)("textarea",{value:t,onChange:function(e){n(e.target.value)},rows:4,style:{width:"100%",padding:"10px",fontSize:"16px",lineHeight:"1.5",border:"1px solid #ccc",borderRadius:"4px"}}),(0,s.jsx)("button",{style:{height:"40px"},children:"SEND PROPOSAL"}),(0,s.jsx)("div",{style:{width:"100%",height:"1px",backgroundColor:"white",marginTop:"20px"}}),(0,s.jsx)("h3",{children:" ALL PROPOSALS"})]})};function m(){var e=(0,r.useRouter)(),t=((0,o.v9)((function(e){return e.info})),(0,l.useState)()),n=t[0],u=t[1],m=(0,l.useState)(),b=m[0],f=m[1],h=(0,l.useState)(),x=h[0],w=h[1],g=(0,l.useState)(),j=g[0],v=g[1],T=(0,l.useState)(""),_=T[0],M=T[1],N=(0,l.useState)(""),S=N[0],O=N[1],D=(0,d.GG)({address:e.query.address,abi:y.N,functionName:"deposit",value:n,onSuccess:function(e){console.log("Success",e),M("Deposit Transaction sent, Amount will be update sooner Tx Hash:"),O(e.hash)}}),P=(0,d.GG)({address:e.query.address,abi:y.N,functionName:"withdrawAmount",args:[j],onSuccess:function(e){M("Withdraw Transaction sent, Amount will be credit sooner Tx Hash:"),O(e.hash)}});(0,d.y2)({address:e.query.address,abi:y.N,eventName:"Withdrawn",listener:function(e){f((function(t){return t-parseInt(e[0].args._amount)})),w((function(t){return t.map((function(t){return i((0,a.Z)({},t),{balance:e[0].args._member==t.address?t.balance-parseInt(e[0].args._amount):t.balance})}))}))}}),(0,d.y2)({address:e.query.address,abi:y.N,eventName:"Deposited",listener:function(e){f((function(t){return t+parseInt(e[0].args._amount)})),w((function(t){return t.map((function(t){return i((0,a.Z)({},t),{balance:e[0].args._member==t.address?t.balance+parseInt(e[0].args._amount):t.balance})}))}))}});(0,d.do)({address:e.query.address,abi:y.N,functionName:"getMemberWithBalance",onSettled:function(e,t){console.log(" memberBalance Settled",{data:e,error:t}),e&&w(e[0].map((function(t,n){return{address:t,balance:parseInt(e[1][n])}})))}}),(0,d.KQ)({address:e.query.address,onSuccess:function(e){f(parseInt(null===e||void 0===e?void 0:e.value))}});return console.log("memberBal",x),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:p().container,children:[(0,s.jsxs)("div",{className:p().basicDetail,children:[(0,s.jsxs)("h3",{children:["Address:"," ",(0,s.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat("https://sepolia.etherscan.io/","address/").concat(e.query.address),children:e.query.address})]}),(0,s.jsx)("h3",{children:"Name: G1"}),(0,s.jsxs)("h3",{children:["Balance: ",b]}),(0,s.jsxs)("div",{className:p().balanceDetail,children:[(0,s.jsx)("input",{type:"text",className:p().amountInput,id:"name-input",placeholder:"Enter amount in wei",value:n,onChange:function(e){return u(e.target.value)}}),(0,s.jsx)("button",{style:{width:"80px"},onClick:D.write,children:"Deposit"}),(0,s.jsx)("input",{type:"text",className:p().amountInput,id:"name-input",placeholder:"Enter amount in wei",value:j,onChange:function(e){return v(e.target.value)}}),(0,s.jsx)("button",{style:{width:"80px"},onClick:P.write,children:"Withdraw"})]})]}),(0,s.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"10px",alignItems:"flex-end"},children:(0,s.jsxs)("p",{children:[_,(0,s.jsx)("a",{href:"".concat("https://sepolia.etherscan.io/","tx/").concat(S),children:S})]})}),(0,s.jsxs)("div",{className:p().allDetail,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:{fontSize:"30px",color:"black",textShadow:"0 4px 8px #ffffff, 0 6px 20px rgba(255, 255, 255, 0.5)"},children:"Members"}),(0,s.jsx)("div",{children:(x||[]).map((function(e){return(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginBottom:"30px",justifyContent:"flex-start"},children:[" ",(0,s.jsxs)("a",{target:"_blank",rel:"noreferrer",style:{width:"60%",textAlign:"left"},href:"".concat("https://sepolia.etherscan.io/","address/").concat(e.address),children:[e.address,":"]})," ",(0,s.jsxs)("span",{style:{marginRight:"20px"},children:[e.balance," ETH"," "]})]},e.address)}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{style:{fontSize:"30px",color:"black",textShadow:"0 4px 8px #ffffff, 0 6px 20px rgba(255, 255, 255, 0.5)"},children:[" ","Proposals"]}),(0,s.jsx)(c,{}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",marginTop:"20px"},children:[(0,s.jsx)("div",{children:(0,s.jsx)("p",{children:"Need 1ETH for personal use"})}),(0,s.jsx)("button",{style:{width:"80px"},children:" View "}),(0,s.jsx)("button",{style:{width:"80px"},children:"Approve"}),(0,s.jsx)("button",{style:{width:"80px"},children:"Reject "})]})]})]})]})})}},95847:function(e,t,n){"use strict";n.d(t,{$:function(){return a},N:function(){return i}});var a=[{inputs:[],stateMutability:"payable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"",type:"address"},{indexed:!1,internalType:"string",name:"",type:"string"},{indexed:!1,internalType:"uint256",name:"",type:"uint256"},{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"NewGroupCreated",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[{internalType:"string",name:"_name",type:"string"}],name:"createNewGroup",outputs:[{internalType:"address",name:"addr",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"destroy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllGroup",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"groupIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"groups",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userGroups",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],i=[{inputs:[{internalType:"string",name:"_name",type:"string"}],stateMutability:"payable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_member",type:"address"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_member",type:"address"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"}],name:"Withdrawn",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[{internalType:"uint256",name:"_proposalId",type:"uint256"}],name:"approveBorrowProposal",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"borrowProposal",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"proposer",type:"address"},{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"claimed",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_proposalId",type:"uint256"}],name:"claimApprovedAmount",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"counter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getAllMembers",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_proposalId",type:"uint256"}],name:"getApprovers",outputs:[{internalType:"address[]",name:"",type:"address[]"},{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMemberWithBalance",outputs:[{internalType:"address[]",name:"",type:"address[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"join",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_proposalId",type:"uint256"}],name:"rejectBorrowProposal",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"submitLoanProposal",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdrawAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]},79219:function(e){e.exports={container:"GroupView_container__Pu6j3",basicDetail:"GroupView_basicDetail__i1gLi",allDetail:"GroupView_allDetail__WSt1j",amountInput:"GroupView_amountInput__ijKjm",balanceDetail:"GroupView_balanceDetail__aRi7e"}}},function(e){e.O(0,[774,888,179],(function(){return t=28846,e(e.s=t);var t}));var t=e.O();_N_E=t}]);